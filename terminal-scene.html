<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Terminal Scene</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800&display=swap');

* { margin: 0; padding: 0; box-sizing: border-box; }
body { background: #1a1a2e; height: 100vh; overflow: hidden; display: flex; align-items: center; justify-content: center; font-family: -apple-system, BlinkMacSystemFont, sans-serif; }

/* ── Terminal window ── */
.terminal {
    width: 920px;
    height: 580px;
    background: #0d1117;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 12px 60px rgba(0,0,0,0.5);
    display: flex;
    flex-direction: column;
    opacity: 0;
}
.terminal.active { animation: termIn 0.4s ease forwards; }

/* Title bar */
.title-bar {
    background: #161b22;
    padding: 0.5rem 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-shrink: 0;
    border-bottom: 1px solid #21262d;
}
.dots { display: flex; gap: 6px; }
.dot { width: 12px; height: 12px; border-radius: 50%; }
.dot-r { background: #ff5f57; }
.dot-y { background: #febc2e; }
.dot-g { background: #28c840; }
.title-text {
    flex: 1; text-align: center;
    font-size: 0.72rem; color: #8b949e;
    font-family: 'SF Mono', 'Menlo', 'Monaco', monospace;
}

/* Content area */
.term-body {
    flex: 1;
    padding: 1rem 1.2rem;
    overflow: hidden;
    font-family: 'SF Mono', 'Menlo', 'Monaco', 'Courier New', monospace;
    font-size: 0.82rem;
    line-height: 1.6;
    color: #e6edf3;
}

/* Status bar */
.status-bar {
    background: #161b22;
    padding: 0.35rem 0.75rem;
    font-family: 'SF Mono', 'Menlo', 'Monaco', monospace;
    font-size: 0.65rem;
    color: #8b949e;
    border-top: 1px solid #21262d;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    gap: 0.4rem;
}
.status-green { color: #3fb950; }
.status-red { color: #f85149; }

/* Prompt */
.prompt { color: #e6edf3; }
.prompt-char { color: #3fb950; }
.user-text { color: #e6edf3; }
.cursor {
    display: inline-block;
    width: 8px; height: 16px;
    background: #e6edf3;
    vertical-align: text-bottom;
    animation: blink 1s step-end infinite;
}
.cursor.hidden { display: none; }

/* Claude response */
.claude-block {
    margin-top: 0.8rem;
    opacity: 0;
}
.claude-block.show { opacity: 1; }

.thinking {
    color: #8b949e;
    font-style: italic;
}
.thinking .spinner {
    color: #d2a8ff;
}

.claude-text { color: #e6edf3; }
.claude-em { color: #ffa657; font-weight: bold; }
.claude-key { color: #ff7b72; }
.claude-green { color: #3fb950; }
.claude-dim { color: #8b949e; }
.claude-bullet { color: #d2a8ff; }

/* ── Phase: Resolution card ── */
.resolution {
    position: absolute; inset: 0;
    display: flex; align-items: center; justify-content: center;
    background: #0d1117;
    opacity: 0; pointer-events: none;
    flex-direction: column;
    gap: 1rem;
}
.resolution.active { opacity: 1; pointer-events: auto; animation: fadeIn 0.6s ease forwards; }
.resolution h1 {
    font-family: 'DM Sans', sans-serif;
    font-size: 2rem; font-weight: 800; color: #e6edf3;
    text-align: center; line-height: 1.3;
    letter-spacing: -0.5px;
}
.resolution p {
    font-family: 'DM Sans', sans-serif;
    font-size: 1rem; color: #8b949e;
    text-align: center;
    font-style: italic;
}

@keyframes termIn { from { opacity: 0; transform: scale(0.97); } to { opacity: 1; transform: scale(1); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes blink { 50% { opacity: 0; } }
</style>
</head>
<body>

<div class="terminal" id="terminal">
    <div class="title-bar">
        <div class="dots"><div class="dot dot-r"></div><div class="dot dot-y"></div><div class="dot dot-g"></div></div>
        <div class="title-text">flipside — ✱ Fine Print Analysis Tool — claude</div>
        <div style="width:52px;"></div>
    </div>
    <div class="term-body" id="termBody">
        <div class="prompt">
            <span class="prompt-char">❯ </span><span id="userInput" class="user-text"></span><span class="cursor" id="cursor"></span>
        </div>

        <div class="claude-block" id="think">
            <br><span class="thinking"><span class="spinner">✱</span> Thinking...</span>
        </div>

        <div class="claude-block" id="r1">
            <br><span class="claude-text">I understand what happened. The analysis is <span class="claude-em">technically correct</span> — but</span>
            <br><span class="claude-text">the tool has <span class="claude-key">zero emotional safety</span>.</span>
        </div>

        <div class="claude-block" id="r2">
            <br><span class="claude-text">Your sister saw <span class="claude-key">"$539.93"</span> in large red text with <span class="claude-key">"charged</span></span>
            <br><span class="claude-text"><span class="claude-key">immediately to your card."</span> Without context, that reads as</span>
            <br><span class="claude-text">an actual bill — not an educational scenario.</span>
        </div>

        <div class="claude-block" id="r3">
            <br><span class="claude-dim">The problem:</span>
            <br><span class="claude-bullet">  •</span><span class="claude-text"> The tool thinks like a document — but forgot to <span class="claude-em">think like a user</span></span>
            <br><span class="claude-bullet">  •</span><span class="claude-text"> There's no frame that says "this is educational, not real"</span>
            <br><span class="claude-bullet">  •</span><span class="claude-text"> Red + dollar amount + "immediately" = <span class="claude-key">panic trigger</span></span>
        </div>

        <div class="claude-block" id="r4">
            <br><span class="claude-dim">What we need to build tonight:</span>
            <br><span class="claude-bullet">  •</span><span class="claude-text"> Context banner: <span class="claude-green">"Educational review — no action required"</span></span>
            <br><span class="claude-bullet">  •</span><span class="claude-text"> Safety framing: "what <span class="claude-em">could</span> happen" not "what <span class="claude-key">will</span> happen"</span>
            <br><span class="claude-bullet">  •</span><span class="claude-text"> Green reassurance card loads <span class="claude-green">first</span> — users feel safe before the flip</span>
        </div>

        <div class="claude-block" id="r5">
            <br><span class="claude-text">The flip card works. The analysis is right.</span>
            <br><span class="claude-text">But <span class="claude-em">right isn't enough — it has to be safe</span>.</span>
        </div>
    </div>
    <div class="status-bar">
        <span class="status-green">▸▸</span> bypass permissions on
        <span class="claude-dim">·</span>
        50 files
        <span class="status-green">+1479</span>
        <span class="status-red">−1306</span>
    </div>
</div>

<div class="resolution" id="resolution">
    <h1>We built the safety layer<br>that night.</h1>
    <p>Context banner. Green-first framing. Educational tone.<br>The flip card stayed. The panic stopped.</p>
</div>

<script>
var T = {
    termAppear:    600,    // terminal fades in
    typeDelay:     30,     // ms per character (fast, frantic)
    typeToThink:   800,    // gap after typing
    thinkDur:      1800,   // how long "Thinking..." shows
    r1Delay:       600,    // first response block
    r2Delay:       2200,   // second block
    r3Delay:       2500,   // bullet points
    r4Delay:       2800,   // what we need
    r5Delay:       2500,   // conclusion
    r5ToResolve:   3000,   // gap before resolution card
};

var userMsg = "my sister and brother-in-law just tested the gym sample. they are PANICKING. they think i made them sign up and they owe $539. the analysis was correct but they thought the penalty was a real bill. what do we do";

var inputEl = document.getElementById('userInput');
var cursorEl = document.getElementById('cursor');

function typeOut(text, el, speed, cb) {
    var i = 0;
    var iv = setInterval(function() {
        if (i < text.length) {
            el.textContent += text.charAt(i);
            i++;
        } else {
            clearInterval(iv);
            if (cb) cb();
        }
    }, speed);
}

function showBlock(id) {
    document.getElementById(id).classList.add('show');
}

// Start
setTimeout(function() {
    document.getElementById('terminal').classList.add('active');

    setTimeout(function() {
        // Type the frantic message
        typeOut(userMsg, inputEl, T.typeDelay, function() {
            cursorEl.classList.add('hidden');

            // Thinking
            setTimeout(function() {
                showBlock('think');

                // Response blocks cascade
                setTimeout(function() {
                    document.getElementById('think').style.display = 'none';
                    showBlock('r1');

                    setTimeout(function() { showBlock('r2'); }, T.r2Delay);
                    setTimeout(function() { showBlock('r3'); }, T.r2Delay + T.r3Delay);
                    setTimeout(function() { showBlock('r4'); }, T.r2Delay + T.r3Delay + T.r4Delay);
                    setTimeout(function() {
                        showBlock('r5');

                        // Resolution card
                        setTimeout(function() {
                            document.getElementById('terminal').style.transition = 'opacity 0.6s ease';
                            document.getElementById('terminal').style.opacity = '0';
                            setTimeout(function() {
                                document.getElementById('resolution').classList.add('active');
                            }, 600);
                        }, T.r5ToResolve);
                    }, T.r2Delay + T.r3Delay + T.r4Delay + T.r5Delay);

                }, T.thinkDur);
            }, T.typeToThink);
        });
    }, 500);

}, T.termAppear);
</script>

</body>
</html>
